<!DOCTYPE html>
<html>
<head>
	<title>terra.js</title>
	<h1>terra.js</h1> <code>Basado en abstractpenguin</code>
	<style>
		canvas {
			border: 1px solid black;
		}
	</style>
</head>
<body>
	<canvas id="canvas" width="400" height="400"></canvas>
	<script>
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext('2d');

		var maxHeight = 100;
		var minHeight = -100;
		var offsetX = 0;
		var offsetY = 0;
		var frequency = 0.03;

		function update() {
			offsetX += 0.5;
			offsetY += 0.5;

			var imageData = context.getImageData(0, 0, canvas.width, canvas.height);
			var data = imageData.data;

			for (var x = 0; x < canvas.width; x++) {
				for (var y = 0; y < canvas.height; y++) {
					var index = (y * canvas.width + x) * 4;

					// Calcular la altura del terreno basada en la media de los tres valores RGB de cada píxel
					var height = maxHeight * ((data[index] + data[index + 1] + data[index + 2]) / 3 / 255) + minHeight;

					// Dibujar el píxel en el canvas
					var color = 'rgb(' + data[index] + ',' + data[index + 1] + ',' + data[index + 2] + ')';
					context.fillStyle = color;
					context.fillRect(x, y, 1, 1);
				}
			}

			requestAnimationFrame(update);
		}

		update();
	</script>
</body>
</html>
